import { FileText } from "lucide-react";
import { EditableText, EmptyState } from "../../../shared";
import useBuildStore from "../../../../../store/Build.store";
import SectionHeader from "./SectionHeader";

/**
 * Summary/Objective Section for Basic template
 */
export default function SummarySection({
  data = "",
  sectionId,
  sectionType = "summary",
}) {
  const updateSectionData = useBuildStore((state) => state.updateSectionData);

  const title = sectionType === "objective" ? "Objective" : "Summary";

  const handleChange = (value) => {
    updateSectionData(sectionType, value);
  };

  if (!data) {
    return (
      <div className="mb-4">
        <SectionHeader title={title} />
        <EmptyState
          title={`No ${title.toLowerCase()} added`}
          description={`Click to add your ${title.toLowerCase()}`}
          onAdd={() => handleChange(" ")}
          icon={FileText}
        />
      </div>
    );
  }

  return (
    <div className="mb-4">
      <SectionHeader title={title} />
      <EditableText
        value={data}
        onChange={handleChange}
        placeholder={`Write your ${title.toLowerCase()}...`}
        className="text-sm text-gray-700 leading-relaxed"
        multiline
        as="p"
      />
    </div>
  );
}
